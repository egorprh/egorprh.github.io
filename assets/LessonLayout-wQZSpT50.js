import{j as s,d as T,a as k,u as C,b as L,r as l,O as S}from"./index--dLmTsMV.js";/* empty css               */import{B}from"./BackIcon-ZahGKP5T.js";const E=({buttons:e,activeTab:a,onTabChange:o})=>s.jsx("div",{className:"tabs",children:e.map(t=>s.jsx("button",{className:a===t.value?"active":"",onClick:()=>o(t.value),children:t.label},t.value))}),$=[{label:"Контент",value:"content"},{label:"Материалы",value:"materials"},{label:"Домашка",value:"quiz"}],I={btns:$};function q(){const{courseId:e,lessonId:a}=T(),o=k(),t=C(),{data:r,loading:m,error:f}=L(),[p,g]=l.useState(null),[c,v]=l.useState(""),x=t.pathname.split("/"),i=x[x.length-1];if(l.useEffect(()=>{var n,b;if(!m&&r){const u=(n=r.courses)==null?void 0:n.find(d=>String(d.id)===e),h=(b=u==null?void 0:u.lessons)==null?void 0:b.find(d=>String(d.id)===a);h?g(h):console.error("Урок не найден")}},[r,m,e,a]),l.useEffect(()=>{i&&i!==c&&v(i)},[t.pathname,c]),f)return s.jsxs("div",{className:"page-container content",children:["Ошибка: ",f]});if(!p)return s.jsx("div",{className:"page-container content",children:"Урок не найден"});const j={lesson:p,courseId:e,lessonId:a},N=n=>{n!==c&&(v(n),o(`/lessons/${e}/${a}/${n}`))};return s.jsxs("div",{className:"content",children:[s.jsxs("div",{onClick:()=>o(`/lessons/${e}`),className:"back-link",children:[s.jsx(B,{}),"Назад"]}),s.jsx(E,{buttons:I.btns,activeTab:c,onTabChange:N}),s.jsx(S,{context:j})]})}export{q as default};
