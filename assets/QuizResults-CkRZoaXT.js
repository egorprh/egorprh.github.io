import{d as N,a as k,b,r,j as e,L as I}from"./index-BAtzdYWh.js";import{B as v}from"./BackIcon-5EPBVzsF.js";/* empty css                         *//* empty css                     */function _({user:n}){const{quizId:l}=N(),c=k(),{data:i}=b(),[u,x]=r.useState([]),[d,f]=r.useState(null),[h,p]=r.useState(null),j=n!=null&&n.id?n.id:1;r.useEffect(()=>{if(i!=null&&i.courses){const s=i.courses.flatMap(t=>t.lessons).find(t=>t.quizzes.find(o=>o.id===Number(l)));s?(f(s.course_id),p(s.id)):c(`/lessons/${s.course_id}/${s.id}`)}if(i!=null&&i.homework){const s=i.homework.find(t=>t.quiz_id===Number(l));s?x((s==null?void 0:s.questions)||[]):(console.error("Не найдено домашнее задание для этого quizId"),c("/homework"))}},[i,j,l,c]);const z=()=>{d&&h?c(`/lessons/${d}/${h}/quiz`):console.error("Нет данных для перехода к тесту")};return e.jsxs("div",{className:"content quiz-results-content",children:[e.jsxs(I,{to:"/homework",className:"back-link",children:[e.jsx(v,{}),"Назад"]}),e.jsx("h1",{children:"Ваши ответы"}),e.jsxs("div",{className:"quiz",children:[u.length?u.map((s,t)=>e.jsxs("div",{className:"quiz-question",children:[e.jsxs("h2",{children:[t+1,". ",s.text]}),e.jsx("div",{className:"quiz-answers",children:s.answers.map(o=>{const q=o.correct,m=o.user_choice;let a="";return q?a="correct":m&&(a="incorrect"),e.jsxs("label",{className:`quiz-answer ${a}`,children:[e.jsx("input",{type:"radio",checked:m,disabled:!0,readOnly:!0}),o.text]},o.id)})})]},s.id)):e.jsx("p",{children:"Нет ответов"}),e.jsx("button",{className:"btn",onClick:z,children:"Пройти заново"})]})]})}export{_ as default};
