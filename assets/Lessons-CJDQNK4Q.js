import{a as f,d as g,b as v,r,j as s,L as N}from"./index-XklZpoUB.js";import{A as k}from"./ArrowIcon-hbW_neGk.js";import{B as E}from"./BackIcon-o3a4_9SY.js";import{h as b}from"./handleImageError-DYzZusFE.js";function A({user:n}){const u=f(),{courseId:c}=g(),{data:i,loading:o,error:t}=v(),[l,d]=r.useState([]),[j,m]=r.useState(""),[h,x]=r.useState("");return r.useEffect(()=>{if(!o&&i){const e=(i.courses||[]).find(p=>String(p.id)===c);e?(m(e.title),x(e.description),d(e.lessons)):(console.warn("Курс не найден"),d([]),m(""),x(""))}},[i,o,c]),t?s.jsxs("div",{className:"error",children:["Ошибка: ",t]}):s.jsxs("div",{className:"page-container content",children:[s.jsxs(N,{to:"/",className:"back-link",children:[s.jsx(E,{}),"Назад"]}),s.jsxs("div",{className:"welcome",children:[s.jsxs("div",{className:"badge",children:["Привет, @",(n==null?void 0:n.username)||"username"]}),s.jsx("h2",{children:j}),s.jsx("p",{children:h})]}),l.length?l.map((a,e)=>s.jsxs("div",{className:"lesson-block",children:[s.jsxs("p",{children:["Урок ",e+1]}),s.jsxs("div",{className:"lesson-card",onClick:()=>u(`/lessons/${c}/${a.id}/content`),children:[s.jsxs("div",{className:"info",children:[s.jsx("img",{src:a.image||"/images/default-event.png",alt:"",onError:b()}),s.jsx("span",{children:a.title})]}),s.jsx("div",{className:"arrow",children:s.jsx(k,{})})]})]},a.id)):s.jsx("div",{children:"Уроки не найдены"})]})}export{A as default};
