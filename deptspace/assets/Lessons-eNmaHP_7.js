import{a as f,d as g,b as v,r as t,j as s,L as N}from"./index-DF-I8wqH.js";import{A as k}from"./ArrowIcon-xy7xfbh9.js";import{B as C}from"./BackIcon-loaPqsaO.js";import{h as E}from"./handleImageError-DYzZusFE.js";import{C as b}from"./ContentNotFound-DVSDmGeN.js";function D({user:c}){const x=f(),{courseId:n}=g(),{data:o,loading:i,error:d}=v(),[e,l]=t.useState([]),[j,m]=t.useState(""),[h,u]=t.useState("");return t.useEffect(()=>{if(!i&&o){const a=(o.courses||[]).find(p=>String(p.id)===n);a?(m(a.title),u(a.description),l(a.lessons)):(console.warn("Курс не найден"),l([]),m(""),u(""))}},[o,i,n]),d?s.jsxs("div",{className:"error",children:["Ошибка: ",d]}):s.jsxs("div",{className:"page-container content",children:[s.jsxs(N,{to:"/",className:"back-link",children:[s.jsx(C,{}),"Назад"]}),s.jsxs("div",{className:"welcome",children:[s.jsxs("div",{className:"badge",children:["Привет, @",(c==null?void 0:c.username)||"username"]}),s.jsx("h2",{children:j}),s.jsx("p",{children:h})]}),e!=null&&e.length?e==null?void 0:e.map((r,a)=>s.jsxs("div",{className:"lesson-block",children:[s.jsxs("p",{children:["Урок ",a+1]}),s.jsxs("div",{className:"lesson-card",onClick:()=>x(`/lessons/${n}/${r.id}/content`),children:[s.jsxs("div",{className:"info",children:[s.jsx("img",{src:r.image||"/images/default-event.png",alt:"",onError:E()}),s.jsx("span",{children:r.title})]}),s.jsx("div",{className:"arrow",children:s.jsx(k,{})})]})]},r.id)):s.jsx(b,{message:"Уроки не найдены"})]})}export{D as default};
